"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/stable");var _queueManager=_interopRequireDefault(require("./queueManager"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const queue=[],manager=(0,_queueManager.default)();let observer=null;const doReset=()=>observer=null,initializeObserver=()=>(observer=new MutationObserver((()=>{if(document.body){for(;queue.length;)manager(queue.shift());observer.disconnect(),doReset()}})),observer.observe(document.documentElement,{childList:!0}),observer),onBodyLoad=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&doReset(),queue.push(e),null===observer&&(observer=new MutationObserver((()=>{if(document.body){for(;queue.length;)manager(queue.shift());observer.disconnect(),doReset()}})),observer.observe(document.documentElement,{childList:!0})),queue};var _default=onBodyLoad;exports.default=_default;