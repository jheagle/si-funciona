"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/stable"),require("regenerator-runtime/runtime");var _makeBasicQueue=_interopRequireDefault(require("./makeBasicQueue"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const queueManager=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Array.isArray(e)&&(e=(0,_makeBasicQueue.default)(e)),null===e&&(e=(0,_makeBasicQueue.default)());let r=!1;return function(t){for(var u=arguments.length,n=new Array(u>1?u-1:0),a=1;a<u;a++)n[a-1]=arguments[a];const i=()=>{if(!e.empty()&&!r){r=!0;const t=e.dequeue();t.generator.next(t.item)}return e};return new Promise(((r,u)=>{const a=function*(){const e=yield;return"function"==typeof e.fn?r(e.fn(...e.args)):u(e)}();a.next(),e.enqueue({item:{fn:t,args:n},generator:a}),i()})).then((e=>(r=!1,i(),e)))}};var _default=exports.default=queueManager;