"use strict";require("core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.object.to-string.js"),require("core-js/modules/esnext.async-iterator.for-each.js"),require("core-js/modules/esnext.iterator.constructor.js"),require("core-js/modules/esnext.iterator.for-each.js"),require("core-js/modules/web.dom-collections.for-each.js"),require("core-js/modules/es.array.find-index.js"),require("core-js/modules/es.array.find.js"),require("core-js/modules/esnext.async-iterator.find.js"),require("core-js/modules/esnext.iterator.find.js"),require("core-js/stable");var _assignDescriptor=_interopRequireDefault(require("./assignDescriptor")),_checkClearValues=_interopRequireDefault(require("./checkClearValues")),_checkDescriptorComplete=_interopRequireDefault(require("./checkDescriptorComplete")),_compareDescriptor=_interopRequireDefault(require("./compareDescriptor")),_describeObject=_interopRequireDefault(require("./describeObject")),_nextReference=_interopRequireDefault(require("./nextReference")),_sameDescriptor=_interopRequireDefault(require("./sameDescriptor"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var describeObjectMap=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.mapLimit,i=void 0===t?1e9:t,s=r.depthLimit,u=void 0===s?-1:s,o=r.keepValues,n=void 0!==o&&o,a=[(0,_describeObject.default)(e)];a[0].index=0;var c=function e(r,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e},o=a.length,c=t?(0,_nextReference.default)(r,t.index):void 0,d=void 0!==c?r.details[c]:null;if(t){var l=r.isArray?t.value:[t.value[t.value.length-1]];l.forEach((function(u){var n,c,l=(0,_describeObject.default)(u),f=a.findIndex((function(e){return(0,_compareDescriptor.default)(l,e)}));if(f>=0&&(o=f,l.length&&(0,_sameDescriptor.default)(l,a[f])&&(t.circular=!0,r.details[t.index]=t)),o>=i)return a;if(0===s)return a;l.isArray?(o=null!==(n=t.arrayReference)&&void 0!==n?n:o,r.details[t.index].arrayReference=o):(o=null!==(c=t.objectReference)&&void 0!==c?c:o,r.details[t.index].objectReference=o);if(l.index=o,f<0&&(a[o]=a[o]?(0,_assignDescriptor.default)(a[o],l):l),a[r.index]=(0,_assignDescriptor.default)(a[r.index],r),!(t=a[r.index].details.find((function(e){return e.key===t.key}))).circular){var p=(0,_nextReference.default)(l,-1),_=void 0!==p?l.details[p]:null;return e(l,_,--s,(function(t){return e(r,d,--s)}))}}))}return a[r.index]=(0,_assignDescriptor.default)(a[r.index],(0,_checkDescriptorComplete.default)(r)),a[r.index]=(0,_checkClearValues.default)(a[r.index],n),d?e(r,d,--s):u(a)},d=a[0],l=(0,_nextReference.default)(d,-1);return void 0===l?(a[0]=(0,_assignDescriptor.default)(a[0],(0,_checkDescriptorComplete.default)(d)),a[0]=(0,_checkClearValues.default)(a[0],n),a):c(d,d.details[l],u)},_default=describeObjectMap;exports.default=_default;