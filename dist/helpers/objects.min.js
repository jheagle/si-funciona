"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cloneObject=exports.mergeObjectsMutable=exports.mergeObjects=exports.mergeObjectsBase=exports.isCloneable=exports.isInstanceObject=exports.emptyObject=exports.reduceObject=exports.filterObject=exports.mapObject=exports.objectValues=exports.objectKeys=exports.isObject=exports.setAndReturnValue=exports.setValue=void 0,require("core-js/modules/es.object.get-own-property-names.js"),require("core-js/modules/es.parse-int.js"),require("core-js/modules/es.array.map.js"),require("core-js/modules/es.array.reduce.js"),require("core-js/modules/es.array.filter.js"),require("core-js/modules/es.array.includes.js"),require("core-js/modules/es.function.name.js"),require("core-js/modules/es.array.find.js"),require("core-js/modules/es.symbol.js"),require("core-js/modules/es.symbol.description.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.symbol.iterator.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("core-js/stable");const _functions=require("./functions");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}const setValue=function(e,t,r){return r[e]=t,r};exports.setValue=setValue;const setAndReturnValue=function(e,t,r){return e[t]=r,r};exports.setAndReturnValue=setAndReturnValue;const isObject=function(e){return"object"===_typeof(e)&&null!==e};exports.isObject=isObject;const objectKeys=function(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("function"!=typeof e&&!isObject(e))return[];if(t){const t=Object.getOwnPropertyNames(e);if(t.length)return t}const r=[];for(const s in e)if(t||Object.prototype.hasOwnProperty.call(e,s)){if(Array.isArray(e)){r.push(parseInt(s));continue}r.push(s)}return r};exports.objectKeys=objectKeys;const objectValues=function(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return objectKeys(e,t).map((function(t){return e[t]}))};exports.objectValues=objectValues;const mapObject=function(e,t){const r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return Array.isArray(e)?e.map(t,r):objectKeys(e,!0).reduce((function(s,o){return setValue(o,(0,_functions.callWithParams)(t.bind(r),[e[o],o,e],2),s)}),{})};exports.mapObject=mapObject;const filterObject=function(e,t){const r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return Array.isArray(e)?e.filter(t,r):objectKeys(e,!0).reduce((function(s,o){return(0,_functions.callWithParams)(t.bind(r),[e[o],o,e],2)?s[o]=e[o]:delete s[o],s}),{})};exports.filterObject=filterObject;const reduceObject=function(e,t){const r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e[objectKeys(e)[0]]||e[0];return Array.isArray(e)?e.reduce(t,r):objectKeys(e,!0).reduce((function(r,s){return(0,_functions.callWithParams)(t,[r,e[s],s,e],2)}),r)};exports.reduceObject=reduceObject;const emptyObject=function(e){return("function"==typeof e||isObject(e))&&!objectKeys(e).length};exports.emptyObject=emptyObject;const isInstanceObject=function(e){return!("function"!=typeof e&&!isObject(e))&&(!["Array","Function","Object"].includes(e.constructor.name)||"Array"!==e.constructor.name&&objectKeys(e,!0).length>objectKeys(e).length)};exports.isInstanceObject=isInstanceObject;const isCloneable=function(e){return"object"===_typeof(e)&&null!==e&&!isInstanceObject(e)};exports.isCloneable=isCloneable;const mergeObjectsBase=function e(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.mapLimit,s=void 0===r?1e3:r,o=t.relevancyRange,n=void 0===o?100:o,c=t.map;let u=void 0===c?[]:c;const i=t.useClone,l=void 0!==i&&i,a=function(e){const t=e.length-n;return e.filter((function(e){return e.relevance>t})).map((function(t){return setValue("relevance",t.relevance>e.length?e.length:t.relevance,t)}))};return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];const n=l?Array.isArray(r[0])?[]:{}:r.shift();return r.length<1?n:r.reduce((function(t,r){return r?(u.push({source:r,object:t,relevance:u.length}),u.length>s&&(u=a(u)),reduceObject(r,(function(r,o,n){if(isCloneable(o)){let c=t[n];const i=u.find((function(e){return e.source===o}));if(i)return i.relevance=u.length+1,setValue(n,i.object,r);if(isCloneable(c)&&c||(c=l?Array.isArray(o)?[]:{}:o),isCloneable(c))return setValue(n,e({mapLimit:s,map:u,useClone:l})(c,o),r);u.push({source:o,object:c,relevance:u.length}),u.length>s&&(u=a(u))}return setValue(n,o,r)}),t)):t}),n||{})}};exports.mergeObjectsBase=mergeObjectsBase;const mergeObjects=mergeObjectsBase({useClone:!0});exports.mergeObjects=mergeObjects;const mergeObjectsMutable=mergeObjectsBase();exports.mergeObjectsMutable=mergeObjectsMutable;const cloneObject=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.mapLimit,s=void 0===r?100:r,o=t.map,n=void 0===o?[]:o;return mergeObjectsBase({mapLimit:s,map:n,useClone:!0})(e)};exports.cloneObject=cloneObject;