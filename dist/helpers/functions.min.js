"use strict";require("core-js/modules/es.symbol.js"),require("core-js/modules/es.symbol.description.js"),require("core-js/modules/es.symbol.iterator.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("core-js/modules/es.array.from.js"),require("core-js/modules/es.function.name.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.trace=exports.queueTimeout=exports.queueManager=exports.delay=exports.preloadParams=exports.callWithParams=exports.pipe=exports.curry=void 0,require("regenerator-runtime/runtime.js"),require("core-js/modules/es.array.concat.js"),require("core-js/modules/es.array.reduce.js"),require("core-js/modules/es.array.slice.js"),require("core-js/modules/es.array.splice.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.promise.js"),require("core-js/stable"),require("regenerator-runtime/runtime");const _objects=require("./objects");function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,r);let t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}const curry=function e(r){return function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return o.length>=r.length?r.apply(void 0,o):function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e(r).apply(void 0,[].concat(o,n))}}};exports.curry=curry;const pipe=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(e){return r.reduce((function(e,r){return r(e)}),e)}};exports.pipe=pipe;const callWithParams=function(e){const r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return e.apply(void 0,_toConsumableArray(r.slice(0,e.length||t)))};exports.callWithParams=callWithParams;const preloadParams=function(e){const r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(o){return r.splice(t,0,o),e.apply(void 0,_toConsumableArray(r))}};exports.preloadParams=preloadParams;const delay=function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;let r=function(){};return{resolver:new Promise((function(t,o){if(isNaN(e))o(new Error("Invalid delay: ".concat(e)));else{const n=setTimeout(t,e,"Delayed for: ".concat(e));r=function(){clearTimeout(n),o(new Error("Cancelled delay: ".concat(e)))}}})),cancel:r}};exports.delay=delay;const queueManager=function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];let r=!1;return function(t){for(var o=arguments.length,n=new Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];const s=function(){if(e.length&&!r){r=!0;const t=e.shift();t.generator.next(t.item)}return e};return new Promise((function(r,o){const a=regeneratorRuntime.mark((function e(){let t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:return t=e.sent,e.abrupt("return","function"==typeof t.fn?r(t.fn.apply(t,_toConsumableArray(t.args))):o(t));case 4:case"end":return e.stop()}}),e)}))();a.next(),e.push({item:{fn:t,args:n},generator:a}),s()})).then((function(e){return r=!1,s(),e}))}};exports.queueManager=queueManager;const queueTimeout=function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=queueManager(e);return function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(var o=arguments.length,n=new Array(o>2?o-2:0),a=2;a<o;a++)n[a-2]=arguments[a];return r((function(){return delay(t).resolver.then((function(){return e.apply(void 0,n)}))}))}};exports.queueTimeout=queueTimeout;const trace=function(e){const r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(t){return console.info("".concat(e,": "),r?(0,_objects.cloneObject)(t):t),t}};exports.trace=trace;